import React from 'react';
import { useStore } from '../store';
import type { DoughLoop } from '../store';
import styles from '../styles/UserLoopsWrapper.module.css';

const demoLoops: DoughLoop[] = [
	{
		id: -1, // Use negative IDs to avoid collisions with real user loop IDs
		userId: -1,
		name: 'Bossa',
		beatRep:
			'68,4,4::kick3:0.43|clap1:1|snare1:1|hat3:0.55|rim2:0.6|tom1:1|cymbal1:1|triangle1:1::1001100110011001::0000000000000000::0000000000000000::1010101010101010::1001001000100100::0000000000000000::0000000000000000::0000000000000000',
	},
	{
		id: -2,
		userId: -1,
		name: '6/8',
		beatRep:
			'78,8,6::kick2:1|clap1:1|snare2:0.85|hat3:0.5|rim1:1|tom1:1|cymbal3:0.2|triangle1:1::100000000000100010000000100000000000100100000000::000000000000000000000000000000000000000000000000::000000100000000000100000000000100000000000100000::101010101010101010101010101010101010101010101010::000000000000000000000000000000000000000000000000::000000000000000000000000000000000000000000000000::100000000000000000000000000000000000000000000000::000000000000000000000000000000000000000000000000',
	},
	{
		id: -3,
		userId: -1,
		name: '5/4 Clave',
		beatRep:
			'68,4,5::kick2:0.76|clap1:1|snare2:0.4|hat3:0.33|rim2:1|tom1:1|cymbal1:1|triangle1:1::10010010101001001010::00000000000000000000::00000010000000001000::10101010101010101010::00000000000000000000::00000000000000000000::00000000000000000000::00000000000000000000',
	},
	{
		id: -4,
		userId: -1,
		name: 'Trap',
		beatRep:
			'128,8,8::kick1:0.89|clap1:0.8|snare1:0.6|hat1:0.35|rim2:1|tom1:1|cymbal1:0.2|triangle1:1::1000000000000000000000000000000000001000000000000000000000001000::0000000000000000100000000000000000000000000000001000000000000000::0000000000000000100000000000000000000000000000001000000000000000::1000100010001000100010001000100010101000100011111000100011111000::0000000000000000000000000000000000000000000000000000000000000000::0000000000000000000000000000000000000000000000000000000000000000::1000000000000000000000000000000000000000000000000000000000000000::0000000000000000000000000000000000000000000000000000000000000000',
	},
	{
		id: -5, 
		userId: -1,
		name: 'HipHop',
		beatRep:
			'85,8,4::kick1:1|clap2:0.8|snare1:0.48|hat1:0.29|rim3:0.42|tom3:0.26|cymbal1:0.08|triangle1:1::10000000001000000000000000010001::00001000000010000000100000001000::00000000000000010000000100000001::10001000100011001000100010011100::00000001100000000000000000001110::10010010001000001001001000100000::10000000000000000000000000000000::00000000000000000000000000000000',
	},
	{
		id: -6, 
		userId: -1,
		name: '7/8 BoomBap',
		beatRep:
			'93,8,7::kick2:0.9|clap1:1|snare3:0.73|hat3:0.42|rim2:1|tom1:1|cymbal3:0.12|triangle1:1::10000000000000000000000000001000000000000010001000000010::00000000000000000000000000000000000000000000000000000000::00000001000000000000010000000000000100000000000001000000::10001001000100100010010001001000100100010010101001000100::00000000000000000000000000000000000000000000000000000000::00000000000000000000000000000000000000000000000000000000::10000000000000000000000000000000000000000000000000000000::00000000000000000000000000000000000000000000000000000000',
	}
];

export default function DemoLoopList() {
	const selectedLoop = useStore((s) => s.selectedLoop);
	const setSelectedLoop = useStore((s) => s.setSelectedLoop);
	const fontSize = useStore((s) => s.fontSize);
	const computedFontSize = Math.max(10, fontSize*2);
	const computedFontSize2 = Math.max(10, fontSize*2.5);

	return (
		<div >
			<h3 style={{textDecoration: "underline", fontSize: computedFontSize2}}>Demo Loops</h3>
			<ul>
				{demoLoops.map((loop) => (
					<li
						className={styles.userLoop}
						key={loop.id}
						style={{
							cursor: 'pointer',
							fontWeight: selectedLoop?.id === loop.id ? 900 : 600,
							color: selectedLoop?.id === loop.id ? 'orange' : 'var(--color-off-white-1)',
						}}
						onClick={() => {
							setSelectedLoop(loop); // triggers decode automatically
						}}
					>
						{loop.name}
					</li>
				))}
			</ul>
		</div>
	);
}
